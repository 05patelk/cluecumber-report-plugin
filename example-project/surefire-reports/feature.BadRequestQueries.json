[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":27991,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":123631,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":17,"name":"Send invalid request p=uk and l=99 expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=uk-and-l=99-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: 99, p: uk, q: 'Berlin', n: 1 }","result":{"duration":150408240,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":2414178298,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:05.085 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=99&p=uk&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:05.301 response time in milliseconds: 212,04\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:05 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 6\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Language tag has invalid syntax: '99'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":15396,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":29392,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":21461,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":18,"name":"Send invalid request p=it and l=a1 expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=it-and-l=a1-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: a1, p: it, q: 'Berlin', n: 1 }","result":{"duration":1110814,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":83147770,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:05.443 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=a1&p=it&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:05.520 response time in milliseconds: 76,19\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:05 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Language tag has invalid syntax: 'a1'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":15395,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":98438,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":19128,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":19,"name":"Send invalid request p=it and l=ko-k expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=it-and-l=ko-k-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: ko-k, p: it, q: 'Berlin', n: 1 }","result":{"duration":699332,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":55888271,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:05.622 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=ko-k&p=it&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:05.666 response time in milliseconds: 42,64\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:05 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Language tag has invalid syntax: 'ko-k'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":14929,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":27059,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":25193,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":22,"name":"Send invalid request p=a1 and l=it expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=a1-and-l=it-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: it, p: a1, q: 'Berlin', n: 1 }","result":{"duration":777710,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":51200086,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:05.722 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=it&p=a1&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:05.770 response time in milliseconds: 43,69\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:05 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Invalid platform code 'a1'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":13996,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":1352478,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":868684,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":23,"name":"Send invalid request p=br-123 and l=it expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=br-123-and-l=it-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: it, p: br-123, q: 'Berlin', n: 1 }","result":{"duration":1039435,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":61777312,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:05.868 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=it&p=br-123&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:05.924 response time in milliseconds: 54,58\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:05 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Invalid platform code 'br-123'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":594829,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":17262,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":52252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":24,"name":"Send invalid request p=br88 and l=it expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=br88-and-l=it-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: it, p: br88, q: 'Berlin', n: 1 }","result":{"duration":2474022,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":101115339,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:06.151 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=it&p=br88&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:06.247 response time in milliseconds: 92,74\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:06 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Invalid platform code 'br88'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":6531,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":18661,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":10730,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":25,"name":"Send invalid request p=99 and l=en expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=99-and-l=en-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: en, p: 99, q: 'Berlin', n: 1 }","result":{"duration":320508,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":62290031,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:06.345 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=en&p=99&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:06.402 response time in milliseconds: 55,13\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:06 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Invalid platform code '99'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":7931,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":14462,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":16796,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":26,"name":"Send invalid request p=pp-UU and l=fr expecting status code 400 (Bad Request)","description":"","id":"send-invalid-request-p=pp-uu-and-l=fr-expecting-status-code-400-(bad-request)","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: fr, p: pp-UU, q: 'Berlin', n: 1 }","result":{"duration":374159,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":9},{"name":"method get","result":{"duration":71262386,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":10,"doc_string":{"content_type":"","value":"17:10:06.405 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=fr&p=pp-UU&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:06.456 response time in milliseconds: 50,12\n1 < 400\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:06 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 2\n1 < x-trv-version: ios_2_9_0\n{\"result\":[],\"error\":{\"message\":\"Invalid platform code 'pp-uu'\"},\"spellcheck\":\"\"}","line":10}},{"name":"status 400","result":{"duration":9331,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":11}],"tags":[{"name":"@gen","line":7}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":52252,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":33590,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":38,"name":"Send unsuported (but valid) request p=es and l=aa should return 200 OK and no result","description":"","id":"send-unsuported-(but-valid)-request-p=es-and-l=aa-should-return-200-ok-and-no-result","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: aa, p: es, q: 'Berlin', n: 1 }","result":{"duration":982518,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method get","result":{"duration":66211704,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"17:10:06.444 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=aa&p=es&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:06.507 response time in milliseconds: 61,01\n1 < 200\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:06 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 26\n1 < x-trv-version: ios_2_9_0\n{\"result\":[{\"cid\":3848,\"ns\":200,\"t\":\"Berlin\",\"d\":\"Berlin, Berlin, Germany, Europe\",\"score\":0.8729417571600987,\"solr_score\":1.0,\"popularity_score\":0.7882362604141235,\"fallback_description\":\"Berlin, Berlin, Germany, Europe\"}],\"error\":{},\"spellcheck\":\"\"}","line":32}},{"name":"status 200","result":{"duration":6998,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":33}],"tags":[{"name":"@gen","line":29}]},{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"url domain","result":{"duration":16795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4},{"name":"path url_path","result":{"duration":11197,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5}]},{"line":39,"name":"Send unsuported (but valid) request p=it and l=br-123 should return 200 OK and no result","description":"","id":"send-unsuported-(but-valid)-request-p=it-and-l=br-123-should-return-200-ok-and-no-result","type":"scenario","keyword":"Scenario Outline","steps":[{"name":"params { l: br-123, p: it, q: 'Berlin', n: 1 }","result":{"duration":423145,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Given","line":31},{"name":"method get","result":{"duration":72015370,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":32,"doc_string":{"content_type":"","value":"17:10:06.528 request:\n1 > GET http:\/\/suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\/suggest?l=br-123&p=it&q=Berlin&n=1\n1 > Accept-Encoding: gzip,deflate\n1 > Connection: Keep-Alive\n1 > Host: suggestions.user-profiling.stage.europe-west4.nsp.trv.cloud\n1 > User-Agent: Apache-HttpClient\/4.5.5 (Java\/1.8.0_192)\n\n17:10:06.598 response time in milliseconds: 67,84\n1 < 200\n1 < accept: application\/vnd.trivago.mobile.hal+json;version=2\n1 < access-control-allow-origin: *\n1 < content-type: application\/json;charset=UTF-8\n1 < date: Tue, 15 Jan 2019 16:10:06 GMT\n1 < server: envoy\n1 < transfer-encoding: chunked\n1 < x-envoy-upstream-service-time: 26\n1 < x-trv-version: ios_2_9_0\n{\"result\":[{\"cid\":3848,\"ns\":200,\"t\":\"Berlin\",\"d\":\"Berlin, Berlin, Germany, Europe\",\"score\":0.9179093149467047,\"solr_score\":1.0,\"popularity_score\":0.8631821870803833,\"fallback_description\":\"Berlin, Berlin, Germany, Europe\"}],\"error\":{},\"spellcheck\":\"\"}","line":32}},{"name":"status 200","result":{"duration":12130,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":33}],"tags":[{"name":"@gen","line":29}]}],"name":"feature\/BadRequestQueries.feature","description":"Test HTTP response codes","id":"test-http-response-codes","keyword":"Feature","uri":"feature\/BadRequestQueries.feature"}]